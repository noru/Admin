{"version":3,"sources":["webpack.stg.conf.js"],"names":[],"mappings":";;AAAA,IAAI,OAAO,QAAQ,MAAR,CAAX;AACA,IAAI,SAAS,QAAQ,WAAR,CAAb;AACA,IAAI,QAAQ,QAAQ,SAAR,CAAZ;AACA,IAAI,UAAU,QAAQ,SAAR,CAAd;AACA,IAAI,QAAQ,QAAQ,eAAR,CAAZ;AACA,IAAI,oBAAoB,QAAQ,qBAAR,CAAxB;AACA,IAAI,oBAAoB,QAAQ,6BAAR,CAAxB;AACA,IAAI,oBAAoB,QAAQ,qBAAR,CAAxB;AACA,IAAI,MAAM,QAAQ,GAAR,CAAY,QAAZ,KAAyB,SAAzB,GACN,QAAQ,oBAAR,CADM,GAEN,OAAO,GAAP,CAAW,GAFf;;AAIA,IAAI,gBAAgB,MAAM,iBAAN,EAAyB;AAC3C;;;AAGA,WAAS,OAAO,GAAP,CAAW,mBAAX,GAAiC,aAAjC,GAAiD,KAJf;AAK3C,UAAQ;AACN,UAAM,OAAO,GAAP,CAAW,UADX;AAEN,cAAU,MAAM,UAAN,CAAiB,qBAAjB,CAFJ;AAGN,mBAAe,MAAM,UAAN,CAAiB,mBAAjB;AAHT,GALmC;AAU3C,OAAK;AACH,aAAS,MAAM,UAAN,CAAiB;AACxB,iBAAW,OAAO,GAAP,CAAW,mBADE;AAExB,eAAS;AAFe,KAAjB;AADN,GAVsC;AAgB3C,WAAS;AACP;AACA,MAAI,QAAQ,YAAZ,CAAyB;AACvB,mBAAe;AADQ,GAAzB,CAFO,EAKP,IAAI,QAAQ,QAAR,CAAiB,cAArB,CAAoC;AAClC,cAAU;AACR,gBAAU;AADF;AADwB,GAApC,CALO,EAUP,IAAI,QAAQ,QAAR,CAAiB,oBAArB,EAVO,EAWP,IAAI,QAAQ,QAAR,CAAiB,YAArB,EAXO;AAYP;AACA,MAAI,iBAAJ,CAAsB,MAAM,UAAN,CAAiB,8BAAjB,CAAtB,CAbO;AAcP;AACA;AACA;AACA,MAAI,iBAAJ,CAAsB;AACpB,cAAU,QAAQ,GAAR,CAAY,QAAZ,KAAyB,SAAzB,GACN,YADM,GAEN,OAAO,GAAP,CAAW,KAHK;AAIpB,cAAU,YAJU;AAKpB,YAAQ,IALY;AAMpB,YAAQ;AACN,sBAAgB,IADV;AAEN,0BAAoB,IAFd;AAGN,6BAAuB;AACvB;AACA;AALM,KANY;AAapB;AACA,oBAAgB;AAdI,GAAtB,CAjBO;AAiCP;AACA,MAAI,QAAQ,QAAR,CAAiB,kBAArB,CAAwC;AACtC,UAAM,QADgC;AAEtC,eAAW,mBAAU,MAAV,EAAkB,KAAlB,EAAyB;AAClC;AACA,aACA,OAAO,QAAP,IACA,QAAQ,IAAR,CAAa,OAAO,QAApB,CADA,IAEA,OAAO,QAAP,CAAgB,OAAhB,CACE,KAAK,IAAL,CAAU,SAAV,EAAqB,iBAArB,CADF,MAEM,CALN;AAOD;AAXqC,GAAxC,CAlCO;AA+CP;AACA;AACA,MAAI,QAAQ,QAAR,CAAiB,kBAArB,CAAwC;AACtC,UAAM,UADgC;AAEtC,YAAQ,CAAC,QAAD;AAF8B,GAAxC,CAjDO;AAhBkC,CAAzB,CAApB;;AAwEA,IAAI,OAAO,GAAP,CAAW,cAAf,EAA+B;AAC7B,MAAI,2BAA2B,QAAQ,4BAAR,CAA/B;;AAEA,gBAAc,OAAd,CAAsB,IAAtB,CACE,IAAI,wBAAJ,CAA6B;AAC3B,WAAO,kBADoB;AAE3B,eAAW,MAFgB;AAG3B,UAAM,IAAI,MAAJ,CACJ,SACA,OAAO,GAAP,CAAW,wBAAX,CAAoC,IAApC,CAAyC,GAAzC,CADA,GAEA,IAHI,CAHqB;AAQ3B,eAAW,KARgB;AAS3B,cAAU;AATiB,GAA7B,CADF;AAaD;;AAED,OAAO,OAAP,GAAiB,aAAjB","file":"webpack.stg.conf-compiled.js","sourcesContent":["var path = require('path')\nvar config = require('../config')\nvar utils = require('./utils')\nvar webpack = require('webpack')\nvar merge = require('webpack-merge')\nvar baseWebpackConfig = require('./webpack.base.conf')\nvar ExtractTextPlugin = require('extract-text-webpack-plugin')\nvar HtmlWebpackPlugin = require('html-webpack-plugin')\nvar env = process.env.NODE_ENV === 'testing'\n  ? require('../config/test.env')\n  : config.stg.env\n\nvar webpackConfig = merge(baseWebpackConfig, {\n  /*module: {\n   loaders: utils.styleLoaders({ sourceMap: config.stg.productionSourceMap, extract: true })\n   },*/\n  devtool: config.stg.productionSourceMap ? '#source-map' : false,\n  output: {\n    path: config.stg.assetsRoot,\n    filename: utils.assetsPath('js/[name].[hash].js'),\n    chunkFilename: utils.assetsPath('js/[id].[hash].js')\n  },\n  vue: {\n    loaders: utils.cssLoaders({\n      sourceMap: config.stg.productionSourceMap,\n      extract: true\n    })\n  },\n  plugins: [\n    // http://vuejs.github.io/vue-loader/workflow/production.html\n    new webpack.DefinePlugin({\n      'process.env': env\n    }),\n    new webpack.optimize.UglifyJsPlugin({\n      compress: {\n        warnings: false\n      }\n    }),\n    new webpack.optimize.OccurenceOrderPlugin(),\n    new webpack.optimize.DedupePlugin(),\n    // extract css into its own file\n    new ExtractTextPlugin(utils.assetsPath('css/[name].[contenthash].css')),\n    // generate dist index.html with correct asset hash for caching.\n    // you can customize output by editing /index.html\n    // see https://github.com/ampedandwired/html-webpack-plugin\n    new HtmlWebpackPlugin({\n      filename: process.env.NODE_ENV === 'testing'\n        ? 'index.html'\n        : config.stg.index,\n      template: 'index.html',\n      inject: true,\n      minify: {\n        removeComments: true,\n        collapseWhitespace: true,\n        removeAttributeQuotes: true\n        // more options:\n        // https://github.com/kangax/html-minifier#options-quick-reference\n      },\n      // necessary to consistently work with multiple chunks via CommonsChunkPlugin\n      chunksSortMode: 'dependency'\n    }),\n    // split vendor js into its own file\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'vendor',\n      minChunks: function (module, count) {\n        // any required modules inside node_modules are extracted to vendor\n        return (\n        module.resource &&\n        /\\.js$/.test(module.resource) &&\n        module.resource.indexOf(\n          path.join(__dirname, '../node_modules')\n        ) === 0\n        )\n      }\n    }),\n    // extract webpack runtime and module manifest to its own file in order to\n    // prevent vendor hash from being updated whenever app bundle is updated\n    new webpack.optimize.CommonsChunkPlugin({\n      name: 'manifest',\n      chunks: ['vendor']\n    })\n  ]\n})\n\nif (config.stg.productionGzip) {\n  var CompressionWebpackPlugin = require('compression-webpack-plugin')\n\n  webpackConfig.plugins.push(\n    new CompressionWebpackPlugin({\n      asset: '[path].gz[query]',\n      algorithm: 'gzip',\n      test: new RegExp(\n        '\\\\.(' +\n        config.stg.productionGzipExtensions.join('|') +\n        ')$'\n      ),\n      threshold: 10240,\n      minRatio: 0.8\n    })\n  )\n}\n\nmodule.exports = webpackConfig\n"]}